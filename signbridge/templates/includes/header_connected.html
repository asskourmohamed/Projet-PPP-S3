{% load static %}
<header class="navbar navbar-expand-lg fixed-top">
    <div class="container-narrow d-flex align-items-center">
        <!-- Logo -->
        <a class="navbar-brand" href="{% url 'traduction:signe_vers_texte' %}">
            <img src="{% static 'images/logo.png' %}" alt="SignBridge">
            <span class="brand-text">SignBridge</span>
        </a>

        <!-- Bouton mobile -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Menu principal pour utilisateurs connectés -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav align-items-center w-100">
                <!-- Liens vers les fonctionnalités principales -->
                <!-- Bouton retour à l'accueil -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'accueil' %}">
                        <i class="fas fa-home me-1"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'traduction' in request.path %}active{% endif %}" 
                       href="{% url 'traduction:signe_vers_texte' %}">
                        <i class=""></i>Traduction
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link {% if 'avatar' in request.path %}active{% endif %}" 
                       href="{% url 'avatar:texte_vers_signe' %}">
                        <i class=""></i>Avatar
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link {% if 'tutoriel' in request.path %}active{% endif %}" 
                       href="{% url 'tutoriel:catalogue' %}">
                        <i class=""></i>Tutoriels
                    </a>
                </li>

                <!-- Séparateur visuel -->
                <li class="nav-item d-none d-lg-block">
                    <div class="nav-divider mx-2"></div>
                </li>

                <!-- Espace flexible pour aligner à droite -->
                <li class="nav-item ms-auto"></li>

                <!-- Profil utilisateur -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user-circle me-1"></i>
                        {{ user.username }}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="{% url 'compte:profil' %}">
                            <i class="fas fa-user me-2"></i>Mon Profil
                        </a></li>
                        <li><a class="dropdown-item" href="#">
                            <i class="fas fa-history me-2"></i>Historique
                        </a></li>
                        <li><a class="dropdown-item" href="#">
                            <i class="fas fa-cog me-2"></i>Paramètres
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <form method="post" action="{% url 'compte:logout' %}" class="d-inline">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item text-danger w-100 text-start border-0 bg-transparent" 
                                        style="cursor: pointer;">
                                    <i class="fas fa-sign-out-alt me-2"></i>Déconnexion
                                </button>
                            </form>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</header>